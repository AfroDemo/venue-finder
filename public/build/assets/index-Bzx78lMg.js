import{r as p,j as e,Q as N,t as o,S as g}from"./app-C5BvW5M_.js";import{B as m}from"./badge-CWB8WsqI.js";import{a as y,B as t}from"./createLucideIcon-BtR6rrla.js";import{C as i,a as x,b as h,c}from"./card-CIHlZodd.js";import{T as w,a as v,b as j,c as l,d as k,e as r,S as A,f as T}from"./table-DJTVm-8o.js";import{A as V}from"./app-layout-CXfl6hbn.js";import{A as C}from"./arrow-left-DTVa1TQY.js";import{M as B}from"./map-pin-Cah_fc3Y.js";import{P as S}from"./plus-B-Yn649l.js";import"./index-BwOMU6vt.js";import"./index-DqyCxTyL.js";import"./index-DSsuhUXY.js";import"./index-HFuaeDQT.js";import"./app-logo-icon-BdIwdrFR.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M=y("eye",E),_=[{title:"Dashboard",href:"/dashboard"},{title:"Venues",href:"/admin/venues"}];function K({venues:u,auth:z,flash:n}){const[a,f]=p.useState(Array.isArray(u)?u:[]),b=async s=>{if(confirm("Are you sure you want to delete this venue?"))try{await g.delete(`/admin/venues/${s}`,{onSuccess:()=>{alert("Venue deleted successfully!"),f(a.filter(d=>d.id!==s))},onError:()=>alert("Error deleting venue")})}catch(d){console.error("Error deleting venue:",d),alert("Error deleting venue")}};return e.jsxs(V,{breadcrumbs:_,children:[e.jsx(N,{title:"Venue Management"}),e.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Venue Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage MUST venues"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(o,{href:"/dashboard",children:e.jsxs(t,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs(i,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Total Venues"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),e.jsxs(i,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"With Blocks"}),e.jsx(m,{variant:"secondary",className:"h-4 w-4"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>s.block_name).length})})]}),e.jsxs(i,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"/font-medium text-sm",children:"Without Blocks"}),e.jsx(m,{variant:"outline",className:"h-4 w-4"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>!s.block_name).length})})]})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"All Venues"}),e.jsx(o,{href:"/admin/venues/create",children:e.jsxs(t,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Add New Venue"]})})]}),n.success&&e.jsx("div",{className:"mb-4 rounded-md bg-green-100 p-4 text-green-700",children:n.success}),n.error&&e.jsx("div",{className:"mb-4 rounded-md bg-red-100 p-4 text-red-700",children:n.error}),e.jsx(i,{children:e.jsx(c,{className:"p-0",children:e.jsxs(w,{children:[e.jsx(v,{children:e.jsxs(j,{children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Block"}),e.jsx(l,{children:"Description"}),e.jsx(l,{children:"Coordinates"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(k,{children:a.length===0?e.jsx(j,{children:e.jsx(r,{colSpan:5,className:"text-center text-gray-600",children:"No venues available."})}):a.map(s=>e.jsxs(j,{children:[e.jsx(r,{className:"font-medium",children:s.name}),e.jsx(r,{children:s.block_name?e.jsx(m,{variant:"secondary",children:s.block_name}):e.jsx("span",{className:"text-gray-400",children:"No block"})}),e.jsx(r,{className:"max-w-xs truncate",children:s.description}),e.jsxs(r,{className:"text-sm text-gray-600",children:[s.latitude.toFixed(4),", ",s.longitude.toFixed(4)]}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps?q=${s.latitude},${s.longitude}`,"_blank"),children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx(o,{href:`/admin/venues/edit/${s.id}`,children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>b(s.id),children:e.jsx(T,{className:"h-4 w-4 text-red-600"})})]})})]},s.id))})]})})})]})]})}export{K as default};
