import{j as e,r as u,Q as m,t as d,S as h}from"./app-OQpRKZ9J.js";import{c as p,B as l}from"./createLucideIcon-DcnwxkY4.js";import{C as x,a as j,b as v,d as g,c as b}from"./card-DxBiSna_.js";import{I as i}from"./input-D8O6JBRY.js";import{L as n}from"./label-Ctf1AhnU.js";import{A as f}from"./app-layout-BpRU-Uku.js";import{A as C}from"./arrow-left-B8z2EkAp.js";import"./index-CjGFdOxX.js";import"./index-DZXKKrFs.js";import"./index-CINdLGOe.js";import"./index-WnbbwMQq.js";import"./app-logo-icon-C85IU1Ea.js";const N=({className:r,...a})=>e.jsx("textarea",{className:p("p-2 border rounded-xl w-full",r),...a}),y=[{title:"Dashboard",href:"/dashboard"},{title:"Venues",href:"/admin/venues"},{title:"Create",href:"/admin/venues/create"}];function I(){const[r,a]=u.useState({name:"",block_name:"",description:"",latitude:"",longitude:""}),c=async t=>{t.preventDefault();try{const s=Number.parseFloat(r.latitude),o=Number.parseFloat(r.longitude);if(isNaN(s)||isNaN(o)){alert("Invalid latitude or longitude");return}await h.post("/admin/venues",{name:r.name,block_name:r.block_name||null,description:r.description,latitude:s,longitude:o},{onSuccess:()=>{a({name:"",block_name:"",description:"",latitude:"",longitude:""}),alert("Venue created successfully!")},onError:()=>alert("Error creating venue")})}catch(s){console.error("Error creating venue:",s),alert("Error creating venue")}};return e.jsxs(f,{breadcrumbs:y,children:[e.jsx(m,{title:"Create Venue"}),e.jsxs("div",{className:"container mx-auto max-w-md p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Venue"}),e.jsx(d,{href:"/admin/venues",children:e.jsxs(l,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Back to Venues"]})})]}),e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Add Venue"}),e.jsx(g,{children:"Add a new venue to the MUST system"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create-name",children:"Venue Name *"}),e.jsx(i,{id:"create-name",required:!0,value:r.name,onChange:t=>a({...r,name:t.target.value}),placeholder:"Enter venue name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create-block",children:"Block Name"}),e.jsx(i,{id:"create-block",value:r.block_name,onChange:t=>a({...r,block_name:t.target.value}),placeholder:"Enter block name (optional)"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create-description",children:"Description *"}),e.jsx(N,{id:"create-description",required:!0,value:r.description,onChange:t=>a({...r,description:t.target.value}),placeholder:"Enter venue description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create-latitude",children:"Latitude *"}),e.jsx(i,{id:"create-latitude",type:"number",step:"any",required:!0,value:r.latitude,onChange:t=>a({...r,latitude:t.target.value}),placeholder:"-8.9094"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create-longitude",children:"Longitude *"}),e.jsx(i,{id:"create-longitude",type:"number",step:"any",required:!0,value:r.longitude,onChange:t=>a({...r,longitude:t.target.value}),placeholder:"33.4608"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700",children:"Create Venue"}),e.jsx(d,{href:"/admin/venues",children:e.jsx(l,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})]})}export{I as default};
