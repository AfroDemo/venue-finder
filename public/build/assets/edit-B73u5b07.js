import{r as u,j as e,Q as p,t as c,S as h}from"./app-B-pbYcdD.js";import{B as l}from"./createLucideIcon-Ceyg_5CD.js";import{I as s}from"./input-Dl2Fs6a0.js";import{C as x,a as j,b as g,d as v,c as b}from"./card-w_1IMySh.js";import{L as i}from"./label-BecoHSah.js";import{A as f}from"./app-layout-Dnucn62r.js";import{T as N}from"./Textarea-BUEyjR5B.js";import{A as E}from"./arrow-left-BQs-qRYy.js";import"./index-CnS5Uqtv.js";import"./index-CGuvUGvN.js";import"./index-DeJ4K1G5.js";import"./index-Bz7hT-tA.js";import"./app-logo-icon-Dk_2AJ72.js";const y=[{title:"Dashboard",href:"/dashboard"},{title:"Venues",href:"/admin/venues"},{title:"Edit",href:""}];function I({venue:d}){const[t,a]=u.useState({...d});u.useEffect(()=>{a({...d})},[d]);const m=async r=>{r.preventDefault();try{const n=Number.parseFloat(String(t.latitude)),o=Number.parseFloat(String(t.longitude));if(isNaN(n)||isNaN(o)){alert("Invalid latitude or longitude");return}await h.put(`/admin/venues/${t.id}`,{name:t.name,block_name:t.block_name||null,description:t.description,latitude:n,longitude:o},{onSuccess:()=>{alert("Venue updated successfully!")},onError:()=>alert("Error updating venue")})}catch(n){console.error("Error updating venue:",n),alert("Error updating venue")}};return e.jsxs(f,{breadcrumbs:y,children:[e.jsx(p,{title:"Edit Venue"}),e.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Venue"}),e.jsx(c,{href:"/admin/venues",children:e.jsxs(l,{variant:"outline",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Back to Venues"]})})]}),e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Update Venue"}),e.jsx(v,{children:"Update venue information"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-name",children:"Venue Name *"}),e.jsx(s,{id:"edit-name",required:!0,value:t.name,onChange:r=>a({...t,name:r.target.value}),placeholder:"Enter venue name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-block",children:"Block Name"}),e.jsx(s,{id:"edit-block",value:t.block_name||"",onChange:r=>a({...t,block_name:r.target.value}),placeholder:"Enter block name (optional)"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-description",children:"Description *"}),e.jsx(N,{id:"edit-description",required:!0,value:t.description,onChange:r=>a({...t,description:r.target.value}),placeholder:"Enter venue description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-latitude",children:"Latitude *"}),e.jsx(s,{id:"edit-latitude",type:"number",step:"any",required:!0,value:t.latitude,onChange:r=>a({...t,latitude:Number.parseFloat(r.target.value)}),placeholder:"-8.9094"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-longitude",children:"Longitude *"}),e.jsx(s,{id:"edit-longitude",type:"number",step:"any",required:!0,value:t.longitude,onChange:r=>a({...t,longitude:Number.parseFloat(r.target.value)}),placeholder:"33.4608"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Venue"}),e.jsx(c,{href:"/admin/venues",children:e.jsx(l,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})]})}export{I as default};
