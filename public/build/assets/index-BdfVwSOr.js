import{r as n,j as e,Q as T,t as u,S as V}from"./app-OQpRKZ9J.js";import{B as f,P as _}from"./plus-Bk_0-acG.js";import{a as N,c as i,B as o}from"./createLucideIcon-DcnwxkY4.js";import{C as m,a as b,b as p,c as x}from"./card-DxBiSna_.js";import{A as M}from"./app-layout-BpRU-Uku.js";import{A}from"./arrow-left-B8z2EkAp.js";import{M as C}from"./map-pin-C5PoWfVc.js";import"./index-DZXKKrFs.js";import"./index-CINdLGOe.js";import"./index-CjGFdOxX.js";import"./index-WnbbwMQq.js";import"./app-logo-icon-C85IU1Ea.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R=N("eye",B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],E=N("square-pen",S);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$=N("trash-2",H),y=n.forwardRef(({className:r,...t},a)=>e.jsx("div",{className:"w-full overflow-auto",children:e.jsx("table",{ref:a,className:i("w-full caption-bottom text-sm",r),...t})}));y.displayName="Table";const g=n.forwardRef(({className:r,...t},a)=>e.jsx("thead",{ref:a,className:i("[&_tr]:border-b border-gray-200",r),...t}));g.displayName="TableHeader";const w=n.forwardRef(({className:r,...t},a)=>e.jsx("tbody",{ref:a,className:i("[&_tr:last-child]:border-0",r),...t}));w.displayName="TableBody";const h=n.forwardRef(({className:r,...t},a)=>e.jsx("tr",{ref:a,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...t}));h.displayName="TableRow";const d=n.forwardRef(({className:r,...t},a)=>e.jsx("th",{ref:a,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...t}));d.displayName="TableHead";const l=n.forwardRef(({className:r,...t},a)=>e.jsx("td",{ref:a,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...t}));l.displayName="TableCell";const z=[{title:"Dashboard",href:"/dashboard"},{title:"Venues",href:"/admin/venues"}];function O({venues:r,auth:t,flash:a}){const[c,v]=n.useState(Array.isArray(r)?r:[]),k=async s=>{if(confirm("Are you sure you want to delete this venue?"))try{await V.delete(`/admin/venues/${s}`,{onSuccess:()=>{alert("Venue deleted successfully!"),v(c.filter(j=>j.id!==s))},onError:()=>alert("Error deleting venue")})}catch(j){console.error("Error deleting venue:",j),alert("Error deleting venue")}};return e.jsxs(M,{breadcrumbs:z,children:[e.jsx(T,{title:"Venue Management"}),e.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Venue Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage MUST venues"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(u,{href:"/dashboard",children:e.jsxs(o,{variant:"outline",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs(m,{children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Total Venues"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.length})})]}),e.jsxs(m,{children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"With Blocks"}),e.jsx(f,{variant:"secondary",className:"h-4 w-4"})]}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.filter(s=>s.block_name).length})})]}),e.jsxs(m,{children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"/font-medium text-sm",children:"Without Blocks"}),e.jsx(f,{variant:"outline",className:"h-4 w-4"})]}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.filter(s=>!s.block_name).length})})]})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"All Venues"}),e.jsx(u,{href:"/admin/venues/create",children:e.jsxs(o,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Add New Venue"]})})]}),a.success&&e.jsx("div",{className:"mb-4 rounded-md bg-green-100 p-4 text-green-700",children:a.success}),a.error&&e.jsx("div",{className:"mb-4 rounded-md bg-red-100 p-4 text-red-700",children:a.error}),e.jsx(m,{children:e.jsx(x,{className:"p-0",children:e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs(h,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"Block"}),e.jsx(d,{children:"Description"}),e.jsx(d,{children:"Coordinates"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:c.length===0?e.jsx(h,{children:e.jsx(l,{colSpan:5,className:"text-center text-gray-600",children:"No venues available."})}):c.map(s=>e.jsxs(h,{children:[e.jsx(l,{className:"font-medium",children:s.name}),e.jsx(l,{children:s.block_name?e.jsx(f,{variant:"secondary",children:s.block_name}):e.jsx("span",{className:"text-gray-400",children:"No block"})}),e.jsx(l,{className:"max-w-xs truncate",children:s.description}),e.jsxs(l,{className:"text-sm text-gray-600",children:[s.latitude.toFixed(4),", ",s.longitude.toFixed(4)]}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps?q=${s.latitude},${s.longitude}`,"_blank"),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(u,{href:`/admin/venues/edit/${s.id}`,children:e.jsx(o,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>k(s.id),children:e.jsx($,{className:"h-4 w-4 text-red-600"})})]})})]},s.id))})]})})})]})]})}export{O as default};
