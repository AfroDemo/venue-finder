import{r as h,j as e,Q as j,t as c,S as u}from"./app-B-pbYcdD.js";import{B as p}from"./badge-DY7KT3DE.js";import{a as b,B as a}from"./createLucideIcon-Ceyg_5CD.js";import{C as f,c as g}from"./card-w_1IMySh.js";import{T as N,a as y,b as d,c as t,d as w,e as r,S as v,f as A}from"./table-vhhybIW_.js";import{A as k}from"./app-layout-Dnucn62r.js";import{A as V}from"./arrow-left-BQs-qRYy.js";import{P as S}from"./plus-CJ1vCDaN.js";import"./index-CGuvUGvN.js";import"./index-DeJ4K1G5.js";import"./index-CnS5Uqtv.js";import"./index-Bz7hT-tA.js";import"./app-logo-icon-Dk_2AJ72.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C=b("eye",T),B=[{title:"Dashboard",href:"/dashboard"},{title:"Venues",href:"/admin/venues"}];function U({venues:o,auth:E,flash:n}){const[i,m]=h.useState(Array.isArray(o)?o:[]),x=async s=>{if(confirm("Are you sure you want to delete this venue?"))try{await u.delete(`/admin/venues/${s}`,{onSuccess:()=>{alert("Venue deleted successfully!"),m(i.filter(l=>l.id!==s))},onError:()=>alert("Error deleting venue")})}catch(l){console.error("Error deleting venue:",l),alert("Error deleting venue")}};return e.jsxs(k,{breadcrumbs:B,children:[e.jsx(j,{title:"Venue Management"}),e.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Venue Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage MUST venues"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(c,{href:"/dashboard",children:e.jsxs(a,{variant:"outline",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"All Venues"}),e.jsx(c,{href:"/admin/venues/create",children:e.jsxs(a,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Add New Venue"]})})]}),n.success&&e.jsx("div",{className:"mb-4 rounded-md bg-green-100 p-4 text-green-700",children:n.success}),n.error&&e.jsx("div",{className:"mb-4 rounded-md bg-red-100 p-4 text-red-700",children:n.error}),e.jsx(f,{children:e.jsx(g,{className:"p-0",children:e.jsxs(N,{children:[e.jsx(y,{children:e.jsxs(d,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Block"}),e.jsx(t,{children:"Description"}),e.jsx(t,{children:"Coordinates"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:i.length===0?e.jsx(d,{children:e.jsx(r,{colSpan:5,className:"text-center text-gray-600",children:"No venues available."})}):i.map(s=>e.jsxs(d,{children:[e.jsx(r,{className:"font-medium",children:s.name}),e.jsx(r,{children:s.block_name?e.jsx(p,{variant:"secondary",children:s.block_name}):e.jsx("span",{className:"text-gray-400",children:"No block"})}),e.jsx(r,{className:"max-w-xs truncate",children:s.description}),e.jsxs(r,{className:"text-sm text-gray-600",children:[s.latitude.toFixed(4),", ",s.longitude.toFixed(4)]}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps?q=${s.latitude},${s.longitude}`,"_blank"),children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(c,{href:`/admin/venues/edit/${s.id}`,children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(v,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>x(s.id),children:e.jsx(A,{className:"h-4 w-4 text-red-600"})})]})})]},s.id))})]})})})]})]})}export{U as default};
