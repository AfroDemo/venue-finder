import{r as c,j as e,Q as u,t as m,S as x}from"./app-B-pbYcdD.js";import{B as d}from"./createLucideIcon-Ceyg_5CD.js";import{I as o}from"./input-Dl2Fs6a0.js";import{C as j,a as f,b as v,d as w,c as g}from"./card-w_1IMySh.js";import{L as i}from"./label-BecoHSah.js";import{S as U,a as b,b as E,c as C,d as p}from"./select-C-WUDTc4.js";import{A as y}from"./app-layout-Dnucn62r.js";import{A as S}from"./arrow-left-BQs-qRYy.js";import"./index-CnS5Uqtv.js";import"./index-CGuvUGvN.js";import"./index-DeJ4K1G5.js";import"./index-CC2KqZaq.js";import"./index-Bz7hT-tA.js";import"./app-logo-icon-Dk_2AJ72.js";const N=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/admin/users"},{title:"Edit",href:""}];function $({user:l}){const[r,a]=c.useState({...l,password:""});c.useEffect(()=>{a({...l,password:""})},[l]);const h=async s=>{s.preventDefault();try{const t={name:r.name,email:r.email,role:r.role};r.password&&(t.password=r.password),await x.put(`/admin/users/${r.id}`,t,{onSuccess:()=>{alert("User updated successfully!"),a({...r,password:""})},onError:n=>{console.error("Update errors:",n),alert("Error updating user: "+(n.message||"Unknown error"))}})}catch(t){console.error("Error updating user:",t),alert("Error updating user")}};return e.jsxs(y,{breadcrumbs:N,children:[e.jsx(u,{title:"Edit User"}),e.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit User"}),e.jsx(m,{href:"/admin/users",children:e.jsxs(d,{variant:"outline",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to Users"]})})]}),e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsx(v,{children:"Update User"}),e.jsx(w,{children:"Update user information"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-name",children:"Name *"}),e.jsx(o,{id:"edit-name",required:!0,value:r.name,onChange:s=>a({...r,name:s.target.value}),placeholder:"Enter user name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-email",children:"Email *"}),e.jsx(o,{id:"edit-email",type:"email",required:!0,value:r.email,onChange:s=>a({...r,email:s.target.value}),placeholder:"Enter user email"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-password",children:"Password"}),e.jsx(o,{id:"edit-password",type:"password",value:r.password||"",onChange:s=>a({...r,password:s.target.value}),placeholder:"Enter new password (optional)"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-role",children:"Role *"}),e.jsxs(U,{value:r.role,onValueChange:s=>a({...r,role:s}),children:[e.jsx(b,{id:"edit-role",children:e.jsx(E,{placeholder:"Select role"})}),e.jsxs(C,{children:[e.jsx(p,{value:"user",children:"User"}),e.jsx(p,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update User"}),e.jsx(m,{href:"/admin/users",children:e.jsx(d,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})]})}export{$ as default};
